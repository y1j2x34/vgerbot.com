# SOA与微服务架构区别

## 概念

### SOA<small>（面向服务的架构）</small>

SOA是一个组件模型，它将应用程序的不同功能单元（称为服务）通过这些服务之间定义良好的接口和契约联系起来。接口是采用中立的方式进行定义的，它应该独立于实现服务的硬件平台、操作系统和编程语言。这使得构建在不同的系统中的服务可以以一种统一和通用的方式进行交互。

#### 原则

##### 指导原则（开发、维护和使用SOA的基本原则）

- 可重复使用，粒度、模组性、可组合型、物件化原件、构建化以及交互操作性
- 符合开放标准（通用的或行业的）
- 服务的识别和分类，提供和发布， 监控和跟踪

##### 特定体系架构原则

- **服务封装**
- **服务松耦合** - 服务之间的关系最小化，只是互相知道。
- **服务契约** - 服务按照服务描述文档所定义的契约行事。
- **服务抽象** - 除了服务契约中所描述的内容， 服务将对外部隐藏逻辑。
- **服务的重用性** - 将逻辑分步在不同的服务中， 以提高服务的重用性。
- **服务的可组合性** - 一组服务可以协调工作并组合起来形成一个组合服务
- **服务自治** - 服务对所封装的逻辑具有控制权
- **服务无状态** - 服务将一个活动所需保存的资讯最小化
- **服务的可被发现性** - 服务需要对外部提供描述资讯， 这样可以通过现有的发现机制发现并访问这些服务。

### 微服务

微服务是一种以业务功能为主的服务设计概念，每一个服务都具有自主裕兴的业务功能，对外开放不受语言限制的API（最常用的是HTTP），应用程序则是由一个或多个微服务组成。
和单体式应用程序对比：单体式应用表示一个应用程序内包含了所有需要的业务工， 并且使用像主从式架构或多层次架构实作，虽然也能以分散式应用程序来实作，但是单体式应用内，每一个业务功能是不可分割的。若对单体式应用进行扩展则必须将整个应用程序都放到新的运算资源内，但事实上应用程序中最吃资源、需要运算资源的仅有某个业务部分，但因为单体式应用无法分割该部分，因此无形中会有大量的资源浪费的现象。

#### 内容

一个微服务架构的应用程序有下列特性：

- 每个服务都容易被取代
- 服务是以能力来组织的， 例如使用者界面、前端、推荐系统、账单或是物流等。
- 由于功能被拆分成多个服务，因此可以由不同的编程语言、数据库实作。
- 架构是对称而非分层（即生产者与消费者的关系）

一个微服务架构：

- 适用于具持续交付的软件开发流程。
- 与SOA不同，后者是整合各种业务的应用程序，但微服务只属于一个应用程序。

## 区别
